<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Insert a new element into the selected ones in a ts_tree_jsonc object — ts_tree_insert.ts_tree_jsonc • tsjsonc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Insert a new element into the selected ones in a ts_tree_jsonc object — ts_tree_insert.ts_tree_jsonc"><meta name="description" content="Insert a new element into each selected array or object."><meta property="og:description" content="Insert a new element into each selected array or object."></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tsjsonc</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gaborcsardi/tsjsonc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Insert a new element into the selected ones in a ts_tree_jsonc object</h1>
      <small class="dont-index">Source: <a href="https://github.com/gaborcsardi/tsjsonc/blob/main/R/ts-tree-insert.R" class="external-link"><code>R/ts-tree-insert.R</code></a></small>
      <div class="d-none name"><code>ts_tree_insert.ts_tree_jsonc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Insert a new element into each selected array or object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'ts_tree_jsonc'</span></span>
<span><span class="fu"><a href="https://gaborcsardi.github.io/ts/reference/ts_tree_insert.html" class="external-link">ts_tree_insert</a></span><span class="op">(</span><span class="va">tree</span>, <span class="va">new</span>, key <span class="op">=</span> <span class="cn">NULL</span>, at <span class="op">=</span> <span class="cn">Inf</span>, options <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tree">tree<a class="anchor" aria-label="anchor" href="#arg-tree"></a></dt>
<dd><p>ts_tree_jsonc object</p></dd>


<dt id="arg-new">new<a class="anchor" aria-label="anchor" href="#arg-new"></a></dt>
<dd><p>New element to insert. Will be serialized with
<code><a href="ts_serialize_jsonc.html">ts_serialize_jsonc()</a></code>.</p></dd>


<dt id="arg-key">key<a class="anchor" aria-label="anchor" href="#arg-key"></a></dt>
<dd><p>Key of the new element, when inserting into an object.</p></dd>


<dt id="arg-at">at<a class="anchor" aria-label="anchor" href="#arg-at"></a></dt>
<dd><p>What position to insert the new element at:</p><ul><li><p><code>0</code>: at the beginning,</p></li>
<li><p><code>Inf</code>: at the end,</p></li>
<li><p>other numbers: after the specified element,</p></li>
<li><p>a character scalar, the key after which the new element is inserted,
if that key exists, when inserting into an object. If this key does
not exist, then the new element is inserted at the end of the object.</p></li>
</ul></dd>


<dt id="arg-options">options<a class="anchor" aria-label="anchor" href="#arg-options"></a></dt>
<dd><p>Named list of formatting options, see
<a href="tsjsonc_options.html">tsjsonc options</a>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Must be empty currently, reserved for future use.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The modified ts_tree_jsonc object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>It is an error trying to insert into an element that is not an array and
not an object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/gaborcsardi/ts" class="external-link">ts</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span><span class="st">"{ \"a\": true, \"b\": [1, 2, 3] }"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">json</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># jsonc (1 line)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">1 | </span>{ "a": true, "b": [1, 2, 3] }</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gaborcsardi.github.io/ts/reference/ts_tree_select.html" class="external-link">ts_tree_select</a></span><span class="op">(</span><span class="st">"b"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gaborcsardi.github.io/ts/reference/ts_tree_insert.html" class="external-link">ts_tree_insert</a></span><span class="op">(</span><span class="st">"foo"</span>, at <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># jsonc (6 lines)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">1 | </span>{ "a": true, "b": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">2 | </span>    1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">3 | </span>    "foo",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">4 | </span>    2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">5 | </span>    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">6 | </span>] }</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

