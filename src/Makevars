tree-sitter-files = \
        tree-sitter/json/parser.o

lib-files = \
        init.o

PKG_LIBS = -L. tree-sitter.a

OBJECTS =  $(lib-files)

all: $(SHLIB) mrproper

$(SHLIB): tree-sitter.a

tree-sitter.a: $(tree-sitter-files)
	$(AR) rs tree-sitter.a $^

clean:
	rm -rf $(SHLIB) $(OBJECTS)

mrproper: $(SHLIB)
	@rm -rf *.a

.PHONY: all clean
